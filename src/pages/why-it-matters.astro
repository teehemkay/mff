---
import BaseLayout from '../layouts/BaseLayout.astro';
import IframeVideo from '../components/IframeVideo.astro';
import Transcript from '../components/Transcript.astro';
import BtnSocialShare from '../components/BtnSocialShare.astro';

const pageTitle = "Why it matters - The EU's long-term budget"; // More specific title
const pageDescription = "Understand why the EU long-term budget matters and how it allows EU countries to achieve more together than if they acted alone.";
---
<BaseLayout title={pageTitle} description={pageDescription}>

	<main role="main" id="mainContent" class="mb-8">

		<div id="returnToTop" class="hidden"></div>

		<div itemscope itemtype="https://schema.org/FAQPage">

			<div class="max-w-5xl mx-auto px-4 mt-54px mb-27px">
				<span class="block font-EPGammaBold text-2lg text-black-default text-left">
					The EU's long-term budget from 2028
				</span>
				<span class="text-brand-title-page inline-block font-EPGammaBold bg-blue-default text-white-default pt-1.5 pb-0.5 px-2 mt-2 mb-12">Invest in what matters</span>
				<h1 class="font-EPGammaBold text-2.5xl text-black-greydark text-left">
					Why it matters
				</h1>
				<p class="max-w-3xl text-[1.4rem] text-black-grey my-5">
					{pageDescription}
				</p>
				{/* <p class="inline-block bg-black-greylighter px-1.5 py-1">Last update on 07/12/2023</p> */}
			</div>

			<div class="max-w-5xl sm:block mx-auto justify-between items-center px-4">
				<div class="lg:max-w-3xl">
					<IframeVideo videoText="What is the EU long-term budget and how does it affect your everyday life?" />
					<Transcript idSuffix="main" videoTitle="What is the EU long-term budget..." initialState="collapsed" />
					<div class="share-home">
						<BtnSocialShare idSuffix="main" dynamicTitleLabel="What is the EU long-term budget video" initialState="collapsed" />
					</div>
				</div>
				<hr class="text-[#cccccc] mt-10 mb-5">
			</div>

			<!-- EXPAND / COLLAPSE -->
			<div class="max-w-5xl lg:flex md:block sm:block block mx-auto justify-between items-center px-4 mb-72px">
				{/* Use ul without expand-collapse class directly */}
				<ul class="w-full max-w-5xl [&>li]:border-b-2 [&>li]:border-black-greylight [&>li:last-of-type]:border-none">

					{/* Item 1 - No Transcript/Share */}
					<li class="pt-36px mb-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						{/* This section needs its own expand/collapse logic if not using Transcript/Share */}
						{/* For now, assuming it's static content or needs a generic expand component */}
						<h2 class="block pb-6 font-EPGammaBold">What is the EU's long-term budget?</h2>
						<div class="max-w-3xl pb-8">
							<p>The EU's long-term budget, also known as the Multiannual Financial Framework (MFF), sets the spending limits for the EU over a period of at least five years. It allows the EU to plan and invest in long-term projects.</p>
						</div>
					</li>

					{/* Item 2 - Includes Transcript/Share */}
					<li class="pt-36px mb-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						<h2 class="block pb-6 font-EPGammaBold">What European election rules are common in all EU countries?</h2>
						<div class="max-w-3xl pb-8">
							<div itemprop="text">
								<p class="mb-6">It is up to each country to manage the election, but there are some common principles they must apply.</p>
								<ul class="list-disc pl-6 mb-6">
									<li>Elections take place during a four-day period, from Thursday to Sunday.</li>
									<li>The number of MEPs elected from a political party is proportional to the number of votes it receives.</li>
									<li>EU citizens resident in another EU country can vote and stand for election there</li>
									<li>Each citizen can vote only once.</li>
								</ul>
								<p class="mt-6"><em>Read more about the <a href="https://www.europarl.europa.eu/factsheets/en/sheet/21/the-european-parliament-electoral-procedures" target="_blank" rel="noopener noreferrer">common and national rules</a>. Dedicated pages with more information about the European elections in your country will be available soon.</em></p>
							</div>
							<ul class="video-list block lg:flex md:block sm:block mt-6">
								<li class="video-item mr-5">
									<IframeVideo videoText="How the European Parliament supports citizens’ in the next budget term" />
									<Transcript idSuffix="item-2-video" videoTitle="How the EP supports citizens" initialState="collapsed" />
								</li>
							</ul>
							<BtnSocialShare idSuffix="item-2" dynamicTitleLabel="Common European election rules" initialState="collapsed" />
						</div>
					</li>

					{/* Item 3 - Includes Transcript/Share */}
					<li class="pt-36px mb-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						<h2 class="block pb-6 font-EPGammaBold">What happens immediately after the election?</h2>
						<div class="max-w-3xl pb-8">
							<div itemprop="text">
								<p class="mb-6">The elected MEPs work to form political groups. At its first plenary session where all MEPs meet, the new Parliament elects a President. In a subsequent session, Parliament will elect the new President of the European Commission and later will examine and approve the entire College of Commissioners.</p>
							</div>
							<IframeVideo videoText="How the European Parliament supports citizens’ in the next budget term" />
							<Transcript idSuffix="item-3-video" videoTitle="How the EP supports citizens (after election)" initialState="collapsed" />
							<BtnSocialShare idSuffix="item-3" dynamicTitleLabel="What happens after the election" initialState="collapsed" />
						</div>
					</li>

					{/* Item 4 - Includes Transcript/Share */}
					<li class="pt-36px mb-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						<h2 class="block pb-6 font-EPGammaBold">How often are European elections held?</h2>
						<div class="max-w-3xl pb-8">
							<div itemprop="text">
								<p>The European Parliament is the world’s only directly elected transnational assembly.<br/>The Members of the European Parliament represent the interests of EU citizens at the European level.</p>
								<ul class="list-disc pl-6 mt-4">
									<li><a href="#">What is the European Parliament?</a></li>
									<li><a href="#">How do MEPs represent me?</a></li>
								</ul>
							</div>
							<IframeVideo videoText="How the European Parliament supports citizens’ in the next budget term" />
							<Transcript idSuffix="item-4-video" videoTitle="How the EP supports citizens (frequency)" initialState="collapsed" />
							<BtnSocialShare idSuffix="item-4" dynamicTitleLabel="How often elections are held" initialState="collapsed" />
						</div>
					</li>

				</ul>
			</div>

		</div>

		<a href="#returnToTop" class="top-link hide js-top" aria-label="Scroll back to top of the page"></a>

	</main>

	{/* Page-specific script for nav highlighting ONLY */}
	<script is:inline>
		document.addEventListener("DOMContentLoaded", function () {
			const menuItems = document.querySelectorAll(".navList li"); // Target desktop menu
			const mobileMenuItems = document.querySelectorAll("#mainList li.level1"); // Target mobile menu

			// Reset all desktop items
			menuItems.forEach(item => {
				item.classList.remove("current");
				const link = item.querySelector("a");
				if (link) link.removeAttribute("aria-current");
			});

			// Reset all mobile items
			 mobileMenuItems.forEach(item => {
				const link = item.querySelector("a");
				if (link) {
					 link.classList.remove("current"); // Assuming mobile uses class on <a>
					 link.removeAttribute("aria-current");
				}
			 });

			// Highlight the correct item (Why it matters = index 1)
			const targetIndex = 1;

			// Apply to desktop
			if (menuItems[targetIndex]) {
				menuItems[targetIndex].classList.add("current");
				const link = menuItems[targetIndex].querySelector("a");
				if (link) link.setAttribute("aria-current", "page");
			}

			 // Apply to mobile (adjust selector/class if needed)
			 if (mobileMenuItems[targetIndex]) {
				const link = mobileMenuItems[targetIndex].querySelector("a");
				 if (link) {
					 link.classList.add("current"); // Or apply class to <li> if structure requires
					 link.setAttribute("aria-current", "page");
				 }
			 }
		});
	</script>

</BaseLayout>
---
import BaseLayout from '../layouts/BaseLayout.astro';
import IframeVideo from '../components/IframeVideo.astro';
import Transcript from '../components/Transcript.astro';
import BtnSocialShare from '../components/BtnSocialShare.astro';

const pageTitle = "Why it matters - The EU's long-term budget"; // More specific title
const pageDescription = "Understand why the EU long-term budget matters and how it allows EU countries to achieve more together than if they acted alone.";
---
<BaseLayout title={pageTitle} description={pageDescription}>

	<main role="main" id="mainContent" class="mb-8">

		<div id="returnToTop" class="hidden"></div>

		<div itemscope itemtype="https://schema.org/FAQPage">

			<div class="max-w-5xl mx-auto px-4 mt-54px mb-27px">
				<span class="block font-EPGammaBold text-2lg text-black-default text-left">
					The EU's long-term budget from 2028
				</span>
				<span class="text-brand-title-page inline-block font-EPGammaBold bg-blue-default text-white-default pt-1.5 pb-0.5 px-2 mt-2 mb-12">Invest in what matters</span>
				<h1 class="font-EPGammaBold text-2.5xl text-black-greydark text-left">
					Why it matters
				</h1>
				<p class="max-w-3xl text-[1.4rem] text-black-grey my-5">
					{pageDescription}
				</p>
				{/* <p class="inline-block bg-black-greylighter px-1.5 py-1">Last update on 07/12/2023</p> */}
			</div>

			<div class="max-w-5xl sm:block mx-auto justify-between items-center px-4">
				<div class="lg:max-w-3xl">
					<IframeVideo videoText="What is the EU long-term budget and how does it affect your everyday life?" />
					<Transcript idSuffix="main" videoTitle="What is the EU long-term budget..." initialState="collapsed" />
					<div class="share-home">
						<BtnSocialShare idSuffix="main" dynamicTitleLabel="What is the EU long-term budget video" initialState="collapsed" />
					</div>
				</div>
				<hr class="text-[#cccccc] mt-10 mb-5">
			</div>

			<!-- EXPAND / COLLAPSE -->
			<div class="max-w-5xl lg:flex md:block sm:block block mx-auto justify-between items-center px-4 mb-72px">
				{/* Use ul without expand-collapse class directly */}
				<ul class="w-full max-w-5xl [&>li]:border-b-2 [&>li]:border-black-greylight [&>li:last-of-type]:border-none">

					{/* Item 1 - No Transcript/Share */}
					<li class="pt-36px mb-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						{/* This section needs its own expand/collapse logic if not using Transcript/Share */}
						{/* For now, assuming it's static content or needs a generic expand component */}
						<h2 class="block pb-6 font-EPGammaBold">What is the EU's long-term budget?</h2>
						<div class="max-w-3xl pb-8">
							<p>The EU's long-term budget, also known as the Multiannual Financial Framework (MFF), sets the spending limits for the EU over a period of at least five years. It allows the EU to plan and invest in long-term projects.</p>
						</div>
					</li>

					{/* Item 2 - Includes Transcript/Share */}
					<li class="pt-36px mb-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						<h2 class="block pb-6 font-EPGammaBold">What European election rules are common in all EU countries?</h2>
						<div class="max-w-3xl pb-8">
							<div itemprop="text">
								<p class="mb-6">It is up to each country to manage the election, but there are some common principles they must apply.</p>
								<ul class="list-disc pl-6 mb-6">
									<li>Elections take place during a four-day period, from Thursday to Sunday.</li>
									<li>The number of MEPs elected from a political party is proportional to the number of votes it receives.</li>
									<li>EU citizens resident in another EU country can vote and stand for election there</li>
									<li>Each citizen can vote only once.</li>
								</ul>
								<p class="mt-6"><em>Read more about the <a href="https://www.europarl.europa.eu/factsheets/en/sheet/21/the-european-parliament-electoral-procedures" target="_blank" rel="noopener noreferrer">common and national rules</a>. Dedicated pages with more information about the European elections in your country will be available soon.</em></p>
							</div>
							<ul class="video-list block lg:flex md:block sm:block mt-6">
								<li class="video-item mr-5">
									<IframeVideo videoText="How the European Parliament supports citizens’ in the next budget term" />
									<Transcript idSuffix="item-2-video" videoTitle="How the EP supports citizens" initialState="collapsed" />
								</li>
							</ul>
							<BtnSocialShare idSuffix="item-2" dynamicTitleLabel="Common European election rules" initialState="collapsed" />
						</div>
					</li>

					{/* Item 3 - Includes Transcript/Share */}
					<li class="pt-36px mb-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						<h2 class="block pb-6 font-EPGammaBold">What happens immediately after the election?</h2>
						<div class="max-w-3xl pb-8">
							<div itemprop="text">
								<p class="mb-6">The elected MEPs work to form political groups. At its first plenary session where all MEPs meet, the new Parliament elects a President. In a subsequent session, Parliament will elect the new President of the European Commission and later will examine and approve the entire College of Commissioners.</p>
							</div>
							<IframeVideo videoText="How the European Parliament supports citizens’ in the next budget term" />
							<Transcript idSuffix="item-3-video" videoTitle="How the EP supports citizens (after election)" initialState="collapsed" />
							<BtnSocialShare idSuffix="item-3" dynamicTitleLabel="What happens after the election" initialState="collapsed" />
						</div>
					</li>

					{/* Item 4 - Includes Transcript/Share */}
					<li class="pt-36px mb-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						<h2 class="block pb-6 font-EPGammaBold">How often are European elections held?</h2>
						<div class="max-w-3xl pb-8">
							<div itemprop="text">
								<p>The European Parliament is the world’s only directly elected transnational assembly.<br/>The Members of the European Parliament represent the interests of EU citizens at the European level.</p>
								<ul class="list-disc pl-6 mt-4">
									<li><a href="#">What is the European Parliament?</a></li>
									<li><a href="#">How do MEPs represent me?</a></li>
								</ul>
							</div>
							<IframeVideo videoText="How the European Parliament supports citizens’ in the next budget term" />
							<Transcript idSuffix="item-4-video" videoTitle="How the EP supports citizens (frequency)" initialState="collapsed" />
							<BtnSocialShare idSuffix="item-4" dynamicTitleLabel="How often elections are held" initialState="collapsed" />
						</div>
					</li>

				</ul>
			</div>

		</div>

		<a href="#returnToTop" class="top-link hide js-top" aria-label="Scroll back to top of the page"></a>

	</main>

	{/* Page-specific script for nav highlighting ONLY */}
	<script is:inline>
		document.addEventListener("DOMContentLoaded", function () {
			const menuItems = document.querySelectorAll(".navList li"); // Target desktop menu
			const mobileMenuItems = document.querySelectorAll("#mainList li.level1.main"); // Target mobile menu main items

			// Reset all desktop items
			menuItems.forEach(item => {
				item.classList.remove("current");
				const link = item.querySelector("a");
				if (link) link.removeAttribute("aria-current");
			});

			// Reset all mobile items
			 mobileMenuItems.forEach(item => {
				const link = item.querySelector("a");
				if (link) {
					 link.classList.remove("current"); // Assuming mobile uses class on <a>
					 link.removeAttribute("aria-current");
				}
			 });

			// Highlight the correct item (Why it matters = index 1)
			const targetIndex = 1;

			// Apply to desktop
			if (menuItems[targetIndex]) {
				menuItems[targetIndex].classList.add("current");
				const link = menuItems[targetIndex].querySelector("a");
				if (link) link.setAttribute("aria-current", "page");
			}

			 // Apply to mobile (adjust selector/class if needed)
			 if (mobileMenuItems[targetIndex]) {
				const link = mobileMenuItems[targetIndex].querySelector("a");
				 if (link) {
					 link.classList.add("current"); // Or apply class to <li> if structure requires
					 link.setAttribute("aria-current", "page");
				 }
			 }
		});
	</script>

</BaseLayout>

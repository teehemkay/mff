!function(){const e=(e,n)=>{trackerTag&&trackerTag.events.send(e,n)},n=()=>{var e,n,t;return{t:"European Elections 2024",o:null==(e=document.querySelector("#webanalytic-id_chapters"))?void 0:e.value,l:null==(n=document.querySelector("#webanalytic-id_sub-chapters"))?void 0:n.value,i:null==(t=document.querySelector("#webanalytic-id_sub-sub-chapters"))?void 0:t.value}},t="data-analytics-event-attached",a="#webanalytic-ep_bodies",c="#webanalytics-topics_by_weeks",o="#webanalytics-priority_category",l="#webanalytics-priority_wordlink",i="#news_search-keyword",r="#webanalytics-language",u="#webanalytics-reference",d="click.action",s="click.download",_="click.exit",p="click.navigation",m="internal_search_result.click",v=e=>{const n=location.href.split("/"),t=n.pop();return t===e?n[n.length-1]:t},k=()=>{if(window.performance){const e=window.performance.getEntriesByType("navigation");if(e.length>0){const{duration:n}=e[0];return n/1e3}}},{u:w,_:g,p:T,m:E,v:y,k:b,T:O,O:N,N:h,h:R,R:f}={u:"multimediacentre.europarl.europa.eu",_:"audiovisual.europarl.europa.eu",p:"europarltv.europa.eu",m:"europarl.europa.eu",v:"/external/",k:"/ep_products/",T:/\.pdf|\.doc|\.xls|\.xml|\.zip/,O:"download-centre_download-btn",N:"facebook.com",h:"twitter.com",R:"linkedin.com"},A=(a=document.body.querySelectorAll("a"))=>{a.forEach((a=>{if(!a.hasAttribute(t)){const c=(e=>{if(!e.href||"string"!=typeof e.href)return null;const n=e.href.toLowerCase(),t=n.includes(w),a=n.includes(g),c=n.includes(T),o=n.includes(E)&&(n.includes(y)||n.includes(b)),l=n.match(O),i=e.id===N,r=n.includes(h)||n.includes(R)||n.includes(f),u=n.includes(window.location.host);return t||a||c||o?d:l||i?s:!u||r?_:p})(a);c&&(a.addEventListener("click",(()=>e(c,((e,t)=>{var a,c,o;const l={...n(),click:e.href,label:null==(a=e.textContent)?void 0:a.trim(),A:null==(o=null==(c=e.querySelector("span"))?void 0:c.textContent)?void 0:o.trim()};return"click.exit"===t&&(l.I=l.t),l})(a,c)))),a.setAttribute(t,"true"))}}))},I=(a=document.body.querySelectorAll("button"))=>{a.forEach((a=>{a.hasAttribute(t)||(a.addEventListener("click",(()=>e(d,((e,t)=>{var a,c,o;const l={...n(),label:null==(a=e.textContent)?void 0:a.trim(),A:null==(o=null==(c=e.querySelector("span"))?void 0:c.textContent)?void 0:o.trim(),L:e.getAttribute("aria-expanded"),click:e.type};return"click.exit"===t&&(l.I=l.t),l})(a,d)))),a.setAttribute(t,"true"))}))},L=()=>{const n=document.body.querySelector("#search");n&&!n.hasAttribute(t)&&(n.addEventListener("submit",(()=>e(d,(()=>{const e=document.querySelector("#search-field");return{click:null==e?void 0:e.value}})()))),n.setAttribute(t,"true"))},U=(a=document.body.querySelectorAll("[data-searchResultLink]"))=>{const c=document.body.querySelector("#search-field");null==a||a.forEach(((a,o)=>{a.hasAttribute(t)||(a.addEventListener("click",(()=>e(m,((e,t,a)=>{var c,o,l;return{...n(),label:null==(c=e.textContent)?void 0:c.trim(),A:null==(l=null==(o=e.querySelector("span"))?void 0:o.textContent)?void 0:l.trim(),U:null==a?void 0:a.value,D:1,C:t}})(a,o,c)))),a.setAttribute(t,"true"))}))},D=()=>{L(),U(),A(),I()},C=()=>{var e,t;const a=(()=>{const e=document.querySelector("html"),n=document.body;let t=(null==e?void 0:e.getAttribute("lang"))||(null==n?void 0:n.getAttribute("lang"));if(!t){const e=document.querySelector('meta[name="language"]');t=null==e?void 0:e.content}return t})(),c=document.querySelector("#webanalytic-id_pages");return{...n(),page:v(a),P:k(),language:a?a.toLowerCase():"",S:(null==c?void 0:c.value)||(null==c?void 0:c.getAttribute("value")),M:null==(e=document.querySelector("#webanalytic-id_type"))?void 0:e.value,url:location.href,B:location.href,K:(null==(t=document.querySelector("link[rel='canonical']"))?void 0:t.getAttribute("href"))||"No recognized",referrer:document.referrer}},P=()=>{const e=JSON.parse("false")?(()=>{var e,n,t,d,s,_,p;return{...C(),V:null==(e=document.querySelector(a))?void 0:e.value,W:null==(n=document.querySelector(c))?void 0:n.value,X:null==(t=document.querySelector(o))?void 0:t.value,j:null==(d=document.querySelector(l))?void 0:d.value,J:null==(s=document.querySelector(i))?void 0:s.value,F:null==(_=document.querySelector(r))?void 0:_.value,q:null==(p=document.querySelector(u))?void 0:p.value}})():C();trackerTag&&trackerTag.events.send("page.display",e)},x=(e=document.body.querySelectorAll("[data-custom-event-sender]"))=>{trackerTag&&e.forEach((e=>{const n=JSON.parse(e.getAttribute("[data-custom-event-sender]"));trackerTag.events.send(null==n?void 0:n.G,n)}))},S=()=>{(()=>{let e=location.href;new MutationObserver((n=>{n.forEach((e=>{e.addedNodes.forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e,t=n.querySelectorAll("[data-searchResultLink]");t.length>0&&U(t);const a=n.querySelectorAll("a");a.length>0&&A(a);const c=n.querySelectorAll("button");c.length>0&&I(c);const o=n.querySelectorAll("[data-custom-event-sender]");o.length>0&&x(o)}}))})),location.href!==e&&(e=location.href,trackerTag&&P())})).observe(document.body,{childList:!0,subtree:!0})})(),window.addEventListener("hashchange",P)},M=()=>{P(),x(),(()=>{const e=document.querySelector("#portalSearch");if(e){const n={U:e.value,D:1};trackerTag&&trackerTag.events.send("internal_search_result.display",n)}})()},B=()=>{trackerTag=new ATInternet.Tracker.Tag,JSON.parse("true")&&trackerTag.setProp("url_action",window.location.href,!0),D(),S(),M()},K=async()=>{const e=document.querySelector("head");if(!e||document.querySelector("#piano-analytics-script"))return;const n=document.createElement("script");n.setAttribute("id","piano-analytics-script"),n.setAttribute("type","text/javascript"),n.setAttribute("async","true"),n.setAttribute("src",((e,n)=>{const t='script[src*="'+e+'"]',{origin:a,pathname:c}=new URL(document.querySelector(t).src);return a+c.substring(0,c.lastIndexOf("/")+1)+n})("ati-ee24.js","smarttag-ee24.js")),n.addEventListener("load",B),await e.append(n)};"complete"===document.readyState?K():window.addEventListener("load",K)}();
//# sourceMappingURL=ati-ee24.js.map

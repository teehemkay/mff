<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		@@include('./components/head.html')
	</head>

	<body>
	@@include('./components/shortcut-wai.html')

	<!-- NAVIGATION -->
	@@include('./components/navigation-revamp.html')

	<!-- // ------------------------ START MAIN AREA ------------------------- // -->

	<!-- CONTENT -->
	<main role="main" id="mainContent" class="mb-8">

		<div id="returnToTop" class="hidden"></div>

		<div class="max-w-5xl mx-auto px-4 mt-54px mb-10">
			<h1 class="logo-brand font-epSemiBold text-2.5xl text-black-greydark text-left">The EU's long-term budget from 2028</h1>
			<span class="text-brand-title inline-block font-EPGammaBold bg-blue-default text-white-default pt-1.5 pb-0.5 px-2 mt-2">Invest in what matters</span>
		</div>

		<!-- <div class="max-w-5xl mx-auto px-4 mt-54px mb-3">
			<h2 class="font-EPGammaBold text-2.5xl text-black-greydark text-left">
				How to vote
			</h2>
		</div> -->

		<div class="htv-page max-w-5xl lg:flex lg:flex-col md:block sm:block block mx-auto px-4 mb-8">

			<p class="max-w-3xl mb-6">The EU's long-term budget drives investments in Europe's future, improving citizens' lives.
				It funds common projects and delivers on priorities from digital innovation to border security.
			</p>
			<p><span class="font-EPGammaBold">Discover the benefits of the EU budget and learn how decisions about it are made.</span></p>

			<!-- @@include('./components/htv-form.html') -->

		</div>

		@@include('./components/cards.html')

		<!-- @@include('./components/rtv-banner.html') -->
		<!-- @@include('./components/together-banner.html') -->


		<div class="max-w-5xl sm:block block mx-auto justify-between items-center px-4">
			@@include('./components/iframe-video.html')
			@@include('./components/transcript.html')
			<div class="share-home">
				@@include('./components/btn-social-share.html')
			</div>

			<hr class="text-[#cccccc] mt-10 mb-16">

		</div>

		<!-- Link list title -->
		<div class="cards-links-block lg:flex flex-col md:block sm:block block max-w-5xl mx-auto mb-16 px-4">
			<h2 class="font-EPGammaBold pb-6">Latest updates</h2>

			<!-- Cards Elections political group -->
			@@include('./components/cards-updates.html')

		</div>

		<!-- European  Political parties -->
		<div class="epol-block lg:flex flex-col md:block sm:block block max-w-5xl mx-auto mb-16 px-4">
			<h2 class="font-EPGammaBold pb-6">Related links</h2>

			@@include('./components/links-political-parties.html')

		</div>

		<a href="#returnToTop" class="top-link hide js-top" aria-label="Scroll back to top of the page"></a>

	</main>

	<!-- // ------------------------ END MAIN AREA -------------------------- // -->

	<!-- // ------------------------ START FOOTER AREA ------------------------- // -->

	@@include('./components/footer.html')

	<!-- // ------------------------ END FOOTER AREA ------------------------- // -->


	<!-- JS files -->
	@@include('./components/scripts.html')

	<script>
		/* ********* EXPAND / COLLAPSE COMPONENT ******** */
		const containers = document.querySelectorAll('.expand-container');

		containers.forEach((container) => {
			const buttonExpand = container.querySelector('.expand-button');
			const targetId = buttonExpand.dataset.target;
			const target = document.getElementById(targetId);
			const isExpanded =
					buttonExpand.getAttribute('aria-expanded') === 'true';

			if (container.dataset.initialState === 'expanded') {
				target.classList.remove('hidden');
				buttonExpand.setAttribute('aria-expanded', 'true');
				buttonExpand.setAttribute('aria-label', 'Collapse Content');
			} else {
				target.classList.add('hidden');
				buttonExpand.setAttribute('aria-expanded', 'false');
				buttonExpand.setAttribute('aria-label', 'Expand Content');
				container.dataset.initialState = 'collapsed'; // Ajout de cette ligne
			}

			buttonExpand.addEventListener('click', toggleContent);
		});

		function toggleContent() {
			const targetId = this.dataset.target;
			const target = document.getElementById(targetId);
			const isExpanded = this.getAttribute('aria-expanded') === 'true';

			target.classList.toggle('hidden');
			this.setAttribute('aria-expanded', !isExpanded);

			if (!isExpanded) {
				this.setAttribute('aria-label', 'Collapse Content');
				this.parentNode.parentNode.dataset.initialState = 'expanded';
				target.style.opacity = '0';
				setTimeout(() => {
					target.style.opacity = '1';
				}, 10);
			} else {
				this.setAttribute('aria-label', 'Expand Content');
				this.parentNode.parentNode.dataset.initialState = 'collapsed';
				target.style.opacity = '1';
				setTimeout(() => {
					target.style.opacity = '0';
				}, 10);
			}
		}
	</script>

	</body>
</html>

<!DOCTYPE html>
<html lang="en" class="no-js" itemscope itemtype="https://schema.org/FAQPage">
	<head>
		@@include('./components/head.html')
	</head>

	<body>
	@@include('./components/shortcut-wai.html')

	<!-- NAVIGATION -->
	@@include('./components/navigation-revamp.html')

	<!-- // ------------------------ START MAIN AREA ------------------------- // -->

	<!-- CONTENT -->
	<main role="main" id="mainContent" class="mb-8">

		<div class="legal-page wtv-page">

			<div class="max-w-5xl mx-auto px-4 mt-54px mb-27px">
			<span class="block font-EPGammaBold text-2lg text-black-default text-left">
				The EU's long-term budget from 2028
			</span>
				<span class="text-brand-title-page inline-block font-EPGammaBold bg-blue-default text-white-default pt-1.5 pb-0.5 px-2 mt-2 mb-12">Invest in what matters</span>
				<h1 class="font-EPGammaBold text-2.5xl text-black-greydark text-left">
					How does the European Budget work ?
				</h1>
				<p class="max-w-3xl text-[1.4rem] text-black-grey my-5">
					The long-term budget establishes spending limits for the EU on an annual basis across various policy areas.
					Typically spanning seven years, it provides a framework for financial planning and allocation
				</p>

				<!-- <p class="inline-block bg-black-greylighter px-1.5 py-1">Last update on 07/12/2023</p> -->
			</div>

		<div class="max-w-5xl lg:flex lg:flex-col md:block sm:block block mx-auto px-4 mb-16">

				<!-- EXPAND / COLLAPSE -->
				<ul class="expand-collapse w-full max-w-5xl [&>li]:border-b-2 [&>li]:border-black-greylight [&>li:last-of-type]:border-none">

					<li class="expand-container pt-36px mb-6" data-initial-state="expanded" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						<h2 class="block pb-6">
							<button class="expand-button w-full text-left flex justify-between items-center py-2 hover:underline hover:decoration-1 hover:decoration-blue-default hover:underline-offset-4 focus:outline focus:outline-2 focus:outline-blue-focus focus:outline-offset-4" data-target="content-3" aria-expanded="false" aria-controls="content-3" itemprop="name">
								<span class="expand-title font-EPGammaBold">What happens immediately after the election?</span>
								<svg aria-hidden="true" focusable="false" viewBox="0 0 10 9">
									<rect class="vert" height="8" x="4.5" y="0.5" width="0.8"></rect>
									<rect width="8" y="4" x="1" height="0.8"></rect>
								</svg>
							</button>
						</h2>
						<div id="content-3" class="expand-container-content max-w-3xl pb-8 hidden" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
							<div itemprop="text">
								<p class="mb-6">The elected MEPs work to form political groups. At its first plenary session where all MEPs meet, the new Parliament elects a President. In a subsequent session, Parliament will elect the new President of the European Commission and later will examine and approve the entire College of Commissioners.</p>
							</div>
							@@include('./components/iframe-video.html', { "videoText": "How the European Parliament supports citizens’ in the next budget term" })
							@@include('./components/transcript.html')
							@@include('./components/btn-social-share.html')
						</div>
					</li>

					<li class="expand-container pt-36px mb-6" data-initial-state="collapsed" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
						<h2 class="block pb-6">
							<button class="expand-button w-full text-left flex justify-between items-center py-2 hover:underline hover:decoration-1 hover:decoration-blue-default hover:underline-offset-4 focus:outline focus:outline-2 focus:outline-blue-focus focus:outline-offset-4" data-target="content-4" aria-expanded="false" aria-controls="content-4" itemprop="name">
								<span class="expand-title font-EPGammaBold">How often are European elections held?</span>
								<svg aria-hidden="true" focusable="false" viewBox="0 0 10 9">
									<rect class="vert" height="8" x="4.5" y="0.5" width="0.8"></rect>
									<rect width="8" y="4" x="1" height="0.8"></rect>
								</svg>
							</button>
						</h2>
						<div id="content-4" class="expand-container-content max-w-3xl pb-8 hidden" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
							<div itemprop="text">
								<p>The European Parliament is the world’s only directly elected transnational assembly.<br>The Members of the European Parliament represent the interests of EU citizens at the European level.</p>
								<ul class="expand-list">
									<li><a href="#">What is the European Parliament?</a></li>
									<li><a href="#">How do MEPs represent me?</a></li>
								</ul>
							</div>
							@@include('./components/iframe-video.html', { "videoText": "How the European Parliament supports citizens’ in the next budget term" })
							@@include('./components/transcript.html')
							@@include('./components/btn-social-share.html')
						</div>
					</li>

				</ul>

		</div>

		</div>

	</main>

	<!-- // ------------------------ END MAIN AREA -------------------------- // -->

	<!-- // ------------------------ START FOOTER AREA ------------------------- // -->

	@@include('./components/footer.html')

	<!-- // ------------------------ END FOOTER AREA ------------------------- // -->


	<!-- JS files -->
	@@include('./components/scripts.html')

	<script>
		// Menu component
		window.addEventListener('DOMContentLoaded', () => {

			// Inject the current menu state in JS (only for html prototyping as the main nav is included globally
			// Trouver l'élément <ul> par sa classe
			const navul = document.querySelector('ul.footerLinks');
			const navli = navul.querySelector('li:nth-child(1)');
			const navlilink = navli.querySelector('a');

			// Ajouter la classe "current" à la balise <a>
			navlilink.classList.add('current');

			// Ajouter l'attribut "aria-current" avec la valeur "page" à la balise <a>
			navlilink.setAttribute('aria-current', 'page');

		});

		/* ********* EXPAND / COLLAPSE COMPONENT ******** */
		const containers = document.querySelectorAll('.expand-container');

		containers.forEach((container) => {
			const buttonExpand = container.querySelector('.expand-button');
			const targetId = buttonExpand.dataset.target;
			const target = document.getElementById(targetId);
			const isExpanded =
					buttonExpand.getAttribute('aria-expanded') === 'true';

			if (container.dataset.initialState === 'expanded') {
				target.classList.remove('hidden');
				buttonExpand.setAttribute('aria-expanded', 'true');
				buttonExpand.setAttribute('aria-label', 'Collapse Content');
			} else {
				target.classList.add('hidden');
				buttonExpand.setAttribute('aria-expanded', 'false');
				buttonExpand.setAttribute('aria-label', 'Expand Content');
				container.dataset.initialState = 'collapsed'; // Ajout de cette ligne
			}

			buttonExpand.addEventListener('click', toggleContent);
		});

		function toggleContent() {
			const targetId = this.dataset.target;
			const target = document.getElementById(targetId);
			const isExpanded = this.getAttribute('aria-expanded') === 'true';

			target.classList.toggle('hidden');
			this.setAttribute('aria-expanded', !isExpanded);

			if (!isExpanded) {
				this.setAttribute('aria-label', 'Collapse Content');
				this.parentNode.parentNode.dataset.initialState = 'expanded';
				target.style.opacity = '0';
				setTimeout(() => {
					target.style.opacity = '1';
				}, 10);
			} else {
				this.setAttribute('aria-label', 'Expand Content');
				this.parentNode.parentNode.dataset.initialState = 'collapsed';
				target.style.opacity = '1';
				setTimeout(() => {
					target.style.opacity = '0';
				}, 10);
			}
		}

		document.addEventListener("DOMContentLoaded", function () {
			const menuItems = document.querySelectorAll(".navList li");

			// Retirer "current" de tous les <li> et aria-current des <a>
			menuItems.forEach(item => {
				item.classList.remove("current");
				const link = item.querySelector("a");
				if (link) link.removeAttribute("aria-current");
			});

			// Définir quel <li> doit avoir la classe "current" (ex: le 5e élément)
			const targetIndex = 2; // Index 2 = 3e élément

			if (menuItems[targetIndex]) {
				menuItems[targetIndex].classList.add("current");
				const link = menuItems[targetIndex].querySelector("a");
				if (link) link.setAttribute("aria-current", "page");
			}
		});
	</script>

	</body>
</html>
